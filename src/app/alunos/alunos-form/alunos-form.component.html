<ol class="breadcrumb mb-4">
  <li class="breadcrumb-item active">
    {{ aluno.id ? "Edição" : "Cadastro" }}
  </li>
</ol>
<div class="container">
  <form #alunoForm="ngForm" (ngSubmit)="onSubmit()">
    <div class="row">
      <div class="col-md-12">
        <div class="alert alert-success" role="alert" *ngIf="success == true">
          Aluno cadastrado/atualizado com sucesso!
        </div>
        <div
          class="alert alert-danger"
          role="alert"
          *ngFor="let erro of errors"
        >
          {{ erro }}
        </div>
      </div>
    </div>

    <div class="row" *ngIf="aluno.id">
      <div class="col-md-6">
        <div class="form-group">
          <label>ID:</label>
          <input
            type="text"
            class="form-control"
            disabled="true"
            [ngModel]="aluno.id"
            name="id"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Data de cadastro:</label>
          <input
            type="text"
            class="form-control"
            disabled="true"
            [ngModel]="aluno.dataCadastro"
            name="dataCadastro"
          />
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12"><h3 class="mt-2">Dados do Aluno</h3></div>
      <div class="col-md-6">
        <div class="form-group">
          <label>Nome:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.nome"
            name="nome"
            placeholder="Nome do Aluno"
          />
        </div>
      </div>

      <div class="col-md-6" *ngIf="usuario === 'admin'">
        <div class="form-group">
          <label>CPF:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.cpf"
            name="cpf"
            placeholder="CPF válido, somente números"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>RA:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.ra"
            name="ra"
            placeholder="1111111111, somente números"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Data de nascimento:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.dataNascimento"
            name="dataNascimento"
            placeholder="10/10/2010"
          />
        </div>
      </div>

      <div class="col-md-6">
        Sexo:
        <div class="form-group">
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="inlineRadioOptions"
              id="inlineRadio1"
              value="Masculino"
              [(ngModel)]="aluno.sexo"
            />
            <label class="form-check-label" for="inlineRadio1">Masculino</label>
          </div>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="inlineRadioOptionsSexo"
              id="inlineRadio2"
              value="Feminino"
              [(ngModel)]="aluno.sexo"
            />
            <label class="form-check-label" for="inlineRadio2">Feminino</label>
          </div>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="inlineRadioOptionsSexo"
              id="inlineRadio2"
              value="Outro"
              [(ngModel)]="aluno.sexo"
            />
            <label class="form-check-label" for="inlineRadio2">Outro</label>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Deficiência:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.deficiencia"
            name="deficiencia"
            placeholder="Tipo Deficiência"
          />
        </div>
      </div>

      <div class="col-md-12">
        <h3 class="mt-2">Dados dos Pais ou Responsáveis</h3>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Nome da Mãe:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.responsavel.nome"
            name="nomeMae"
            placeholder="Nome da Mãe"
          />
        </div>
      </div>

      <div class="col-md-6" *ngIf="usuario === 'admin'">
        <div class="form-group">
          <label>CPF da Mãe:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.responsavel.cpf"
            name="cpfMae"
            placeholder="CPF válido, somente números"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Contato da Mãe:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.responsavel.contato1"
            name="contatoMae1"
            placeholder="(16) 99999-9999"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Outro contato:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.responsavel.contato2"
            name="contatoMae2"
            placeholder="(16) 99999-9999 - Tia"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Nome do Pai:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.responsavel.nome"
            name="nomePai"
            placeholder="Nome do Pai"
          />
        </div>
      </div>

      <div class="col-md-6" *ngIf="usuario === 'admin'">
        <div class="form-group">
          <label>CPF do Pai:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.responsavel.cpf"
            name="cpfPai"
            placeholder="CPF válido, somente números"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Contato do Pai:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.responsavel.contato1"
            name="contatoPai1"
            placeholder="(16) 99999-9999"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Outro contato:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.responsavel.contato2"
            name="contatoPai2"
            placeholder="(16) 99999-9999"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Nome do(a) Responsável:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.responsavel.nome"
            name="nomeResponsavel"
            placeholder="Nome Responsável Legal"
          />
        </div>
      </div>

      <div class="col-md-6" *ngIf="usuario === 'admin'">
        <div class="form-group">
          <label>CPF do(a) Responsável:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.responsavel.cpf"
            name="cpfResponsavel"
            placeholder="CPF válido, somente números"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Contato do(a) Responsável:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.responsavel.contato1"
            name="contatoResponsavel1"
            placeholder="(16) 99999-9999"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Outro contato:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.responsavel.contato2"
            name="contatoResponsavel2"
            placeholder="(16) 99999-9999"
          />
        </div>
      </div>

      <div class="col-md-12"><h3 class="mt-2">Dados Escolares</h3></div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Escola:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.escola.nome"
            name="nomeEscola"
            placeholder="Ex: E. M. Prof. Manoel L. Matos Negraes"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Série escolar:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.escola.serieEscolar"
            name="serieEscolar"
            placeholder="ex: 1º Ano"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Professor:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.escola.professor"
            name="nomeProfessor"
            placeholder="Nome Professor da Sala"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Professor especial:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.escola.professorEspecial"
            name="nomeProfessorEspecial"
            placeholder="Nome Professor Educação Especial"
          />
        </div>
      </div>

      <div class="col-md-3">
        Período escolar:
        <div class="form-group">
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="inlineRadioOptionsPeriodo"
              id="inlineRadio1"
              value="Manhã"
              [(ngModel)]="aluno.escola.periodoEscolar"
            />
            <label class="form-check-label" for="inlineRadio1">Manhã</label>
          </div>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="inlineRadioOptionsPeriodo"
              id="inlineRadio2"
              value="Tarde"
              [(ngModel)]="aluno.escola.periodoEscolar"
            />
            <label class="form-check-label" for="inlineRadio2">Tarde</label>
          </div>
        </div>
      </div>

      <div class="col-md-3">
        Necessita cuidador:
        <div class="form-group">
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="inlineRadioOptionsCuidador"
              id="inlineRadio3"
              value="Sim"
              [(ngModel)]="aluno.necessitaCuidador"
            />
            <label class="form-check-label" for="inlineRadio3">Sim</label>
          </div>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="inlineRadioOptionsCuidador"
              id="inlineRadio4"
              value="Não"
              [(ngModel)]="aluno.necessitaCuidador"
            />
            <label class="form-check-label" for="inlineRadio4">Não</label>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Cuidador:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.escola.cuidador"
            name="cuidador"
            placeholder="Nome do Cuidador"
          />
        </div>
      </div>

      <div class="col-md-12"><h3 class="mt-2">Endereço</h3></div>

      <div class="col-md-4">
        <div class="form-group">
          <label>Logradouro:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.endereco.logradouro"
            name="logradouro"
            placeholder="Nome da Rua"
          />
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-group">
          <label>Numero:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.endereco.numero"
            name="numero"
            placeholder="Número"
          />
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-group">
          <label>Bairro:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.endereco.bairro"
            name="bairro"
            placeholder="Nome do Bairro"
          />
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-group">
          <label>Cidade:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.endereco.cidade"
            name="cidade"
            placeholder="Cidade"
          />
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-group">
          <label>Estado:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.endereco.estado"
            name="estado"
            placeholder="SP"
          />
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-group">
          <label>CEP:</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="aluno.endereco.cep"
            name="cep"
            placeholder="13580-000"
          />
        </div>
      </div>

      <div class="col-md-12">
        <h3 class="mt-2">Relatórios</h3>

        <div class="col-md-12">
          <div class="form-group">
            <span class="input-group-text">Resumo do aluno</span>
            <textarea
              class="form-control"
              [(ngModel)]="aluno.relatorio.resumoAluno"
              name="resumoAluno"
            ></textarea>
          </div>
        </div>

        <div class="col-md-12">
          <div class="form-group">
            <span class="input-group-text">Outras informações</span>
            <textarea
              class="form-control"
              [(ngModel)]="aluno.relatorio.outrasInfos"
              name="outrasInfos"
            ></textarea>
          </div>
        </div>

        <div class="col-md-12">
          <div class="form-group">
            <span class="input-group-text">Relatório médico</span>
            <textarea
              class="form-control"
              [(ngModel)]="aluno.relatorio.relatorioMedico"
              name="relatorioMedico"
            ></textarea>
          </div>
        </div>

        <div class="col-md-12">
          <div class="form-group">
            <span class="input-group-text">Relatório pedagógico</span>
            <textarea
              class="form-control"
              [(ngModel)]="aluno.relatorio.relatorioPedagogico"
              name="relatorioPedagogico"
            ></textarea>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-2">
        <button
          type="submit"
          class="btn btn-success"
          *ngIf="!aluno.id && usuario === 'admin'"
        >
          <i class="fa fa-save"></i> Salvar
        </button>
      </div>

      <div class="col-md-2">
        <button
          type="submit"
          class="btn btn-primary"
          *ngIf="aluno.id && usuario === 'admin'"
        >
          <i class="fa fa-sync-alt"></i> Atualizar
        </button>
      </div>

      <div class="col-md-2">
        <button
          type="button"
          class="btn btn-danger"
          (click)="voltarParaListagem()"
        >
          <i class="fa fa-arrow-alt-circle-left"></i> Voltar
        </button>
      </div>
    </div>
  </form>
</div>
